# ===========================================
# AI 加密货币自动交易系统 - 环境变量配置
# ===========================================

# ============================================
# 服务器配置
# ============================================
# Web 服务器监听端口
PORT=3100

# ============================================
# 交易配置
# ============================================
# 交易循环间隔（分钟）
# 建议：波段趋势策略使用20分钟，超短线策略使用3分钟
TRADING_INTERVAL_MINUTES=5

# 交易品种列表，使用逗号分隔
TRADING_SYMBOLS=BTC,ETH,SOL,BNB,DOGE,XRP,HYPE,SUI,BCH,ADA,AVAX,LTC,LINK

# 最大杠杆倍数
MAX_LEVERAGE=15
MAX_POSITIONS=5
MAX_HOLDING_HOURS=36

# 交易策略（ultra-short, swing-trend, conservative, balanced, aggressive）
# ultra-short:   超短线策略（5分钟周期，快进快出，中高风险）
# swing-trend:   波段趋势策略（20分钟周期，捕捉中期趋势，中低风险）
# conservative:  稳健策略（低风险低杠杆，保护本金优先）
# balanced:      平衡策略（风险收益平衡，默认策略）
# aggressive:    激进策略（高风险高杠杆，追求高收益）
#
# 推荐配置组合：
# 1. 波段趋势（中长线）：TRADING_STRATEGY=swing-trend, TRADING_INTERVAL_MINUTES=10
# 2. 超短线（快进快出）：TRADING_STRATEGY=ultra-short, TRADING_INTERVAL_MINUTES=3
# 3. 稳健均衡（默认）  ：TRADING_STRATEGY=balanced, TRADING_INTERVAL_MINUTES=5
TRADING_STRATEGY=balanced

# 初始资金（USDT）
INITIAL_BALANCE=1000
ACCOUNT_STOP_LOSS_USDT=50          # 止损线
ACCOUNT_TAKE_PROFIT_USDT=20000      # 止盈线
SYNC_CONFIG_ON_STARTUP=true        # 启动时同步配置

# ============================================
# 数据库配置
# ============================================
# 数据库连接 URL
# 使用本地 SQLite: file:./.voltagent/trading.db
# 使用远程 Turso: libsql://your-database.turso.io
DATABASE_URL=file:./.voltagent/trading.db

# ============================================
# 交易所选择配置
# ============================================
# 交易所名称（gate 或 binance）
# gate:    Gate.io 交易所
# binance: 币安交易所  
EXCHANGE_NAME=gate

# ============================================
# Gate.io API 配置
# ============================================
# Gate.io API 密钥（EXCHANGE_NAME=gate 时必需）
GATE_API_KEY=your_api_key_here

# Gate.io API 密钥（EXCHANGE_NAME=gate 时必需）
GATE_API_SECRET=your_api_secret_here

# 是否使用 Gate.io 测试网（true/false）
GATE_USE_TESTNET=true

# ============================================
# Binance API 配置
# ============================================
# Binance API 密钥（EXCHANGE_NAME=binance 时必需）
BINANCE_API_KEY=your_api_key_here

# Binance API 密钥（EXCHANGE_NAME=binance 时必需）
BINANCE_API_SECRET=your_api_secret_here

# 是否使用 Binance 测试网（true/false）
BINANCE_USE_TESTNET=true

# ============================================
# AI 模型配置
# ============================================
# OpenAI 兼容的 API 密钥（必需）
# 支持 OpenAI、OpenRouter 或其他兼容供应商
OPENAI_API_KEY=your_api_key_here

# OpenAI 兼容的 API 基础地址（可选）
# OpenRouter: https://openrouter.ai/api/v1
# OpenAI: https://api.openai.com/v1
# DeepSeek: https://api.deepseek.com/v1
# 或其他兼容 OpenAI API 的供应商地址
OPENAI_BASE_URL=https://openrouter.ai/api/v1

# AI 模型名称（可选，默认使用 deepseek/deepseek-v3.2-exp）
# 注意：不同供应商的模型名称不同
# OpenRouter: deepseek/deepseek-v3.2-exp, x-ai/grok-4-fast, 等
# OpenAI: gpt-4, gpt-3.5-turbo, 等
# DeepSeek: deepseek-chat, deepseek-coder, 等
AI_MODEL_NAME=deepseek/deepseek-v3.2-exp
#AI_MODEL_NAME=x-ai/grok-4-fast

# ============================================
# 账户回撤风控配置
# ============================================
# 当账户资产相比峰值回撤达到以下百分比时的风控措施：
ACCOUNT_DRAWDOWN_WARNING_PERCENT=20          # 警告阈值：发出风险警告提醒
ACCOUNT_DRAWDOWN_NO_NEW_POSITION_PERCENT=30  # 禁止开仓阈值：停止开新仓位，只允许平仓
ACCOUNT_DRAWDOWN_FORCE_CLOSE_PERCENT=50      # 强制平仓阈值：自动平掉所有仓位，保护剩余资金

# ============================================
# 科学止损系统配置
# ============================================
# 
# 每个策略的详细止损参数已在代码中预配置好！
# 你只需设置以下 3 个全局开关即可：
#
# ✅ 超短线策略 (ultra-short):   ATR 1.5x，止损 0.5-3%
# ✅ 波段趋势策略 (swing-trend):  ATR 2.5x，止损 1.0-6%
# ✅ 保守策略 (conservative):     ATR 3.0x，止损 1.5-7%
# ✅ 平衡策略 (balanced):        ATR 2.0x，止损 0.8-5%
# ✅ 激进策略 (aggressive):      ATR 1.5x，止损 0.5-4%
#
# 📖 详细说明：docs/STOP_LOSS_CONFIG_SIMPLIFIED.md
# 📖 快速入门：docs/STOP_LOSS_QUICK_START.md
#

# 1️⃣ 启用科学止损系统（强烈推荐）
ENABLE_SCIENTIFIC_STOP_LOSS=true

# 2️⃣ 启用追踪止损（动态保护利润，推荐开启）
ENABLE_TRAILING_STOP_LOSS=true

# 3️⃣ 启用开仓过滤器（开仓前检查止损合理性，强烈推荐）
ENABLE_STOP_LOSS_FILTER=true

# ========================================
# 高级配置（可选，大部分情况不需要修改）
# ========================================
# 以下参数作为系统默认值/回退值
# 实际运行时，各策略会使用自己的优化参数覆盖这些值

ATR_PERIOD=14                    # ATR 计算周期（默认：14）
SUPPORT_RESISTANCE_LOOKBACK=20   # 支撑/阻力位回溯周期（默认：20）
MIN_STOP_LOSS_QUALITY_SCORE=40   # 开仓过滤器最低质量分数（默认：40）