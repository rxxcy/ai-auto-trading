<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  
  <!-- Primary Meta Tags - Bilingual -->
  <title>灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统 | NexusQuant - Cryptocurrency Trading Monitor</title>
  <meta name="title" content="灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统 | NexusQuant - Cryptocurrency Trading Monitor">
  <meta name="description" content="实时监控加密货币交易账户，查看 AI 交易决策、资产曲线、持仓情况和交易历史。支持 BTC、ETH、SOL 等多种主流加密货币的实时价格追踪。Real-time cryptocurrency trading account monitoring with AI decision tracking, equity curves, positions, and trade history.">
  <meta name="keywords" content="加密货币交易,AI交易系统,比特币交易,以太坊交易,SOL交易,数字货币监控,交易策略,量化交易,cryptocurrency trading,AI trading system,Bitcoin trading,Ethereum trading,SOL trading,crypto monitor,trading strategy,quantitative trading">
  <meta name="author" content="losesky, NexusQuant, 灵枢量化">
  <meta name="robots" content="index, follow">
  <meta name="language" content="Chinese, English">
  <meta name="revisit-after" content="7 days">
  
  <!-- Alternative Languages -->
  <link rel="alternate" hreflang="zh-CN" href="http://sg.losesky.shop:3100/">
  <link rel="alternate" hreflang="en-US" href="http://sg.losesky.shop:3100/">
  <link rel="alternate" hreflang="x-default" href="http://sg.losesky.shop:3100/">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="http://sg.losesky.shop:3100/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://sg.losesky.shop:3100/">
  <meta property="og:title" content="灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统 | NexusQuant - Cryptocurrency Trading Monitor">
  <meta property="og:description" content="实时监控加密货币交易账户，查看 AI 交易决策、资产曲线、持仓情况和交易历史。支持 BTC、ETH、SOL 等多种主流加密货币的实时价格追踪。">
  <meta property="og:image" content="http://sg.losesky.shop:3100/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:locale:alternate" content="en_US">
  <meta property="og:site_name" content="灵枢量化">

  <!-- Open Graph - English -->
  <meta property="og:title:en" content="灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统 | NexusQuant - Cryptocurrency Trading Monitor">
  <meta property="og:description:en" content="Real-time cryptocurrency trading account monitoring with AI decision tracking, equity curves, positions, and trade history. Supports BTC, ETH, SOL and other major cryptocurrencies.">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="http://sg.losesky.shop:3100/">
  <meta name="twitter:title" content="灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统 | NexusQuant - Cryptocurrency Trading Monitor">
  <meta name="twitter:description" content="实时监控加密货币交易账户，查看 AI 交易决策、资产曲线、持仓情况和交易历史。">
  <meta name="twitter:image" content="http://sg.losesky.shop:3100/og-image.png">
  
  <!-- Mobile Web App -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="灵枢量化 | NexusQuant">
  <meta name="theme-color" content="#000000">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <!-- Structured Data (JSON-LD) - Bilingual -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ai-auto-trading",
    "name@zh": "灵枢量化：AI 驱动的多策略、多时间框架加密货币交易监控系统",
    "name@en": "NexusQuant - Cryptocurrency Trading Monitor",
    "description": "AI 驱动的加密货币交易监控系统，实时跟踪交易账户和 AI 决策",
    "description@zh": "实时监控加密货币交易账户，查看 AI 交易决策、资产曲线、持仓情况和交易历史。支持 BTC、ETH、SOL 等多种主流加密货币的实时价格追踪。",
    "description@en": "AI-powered cryptocurrency trading monitoring system with real-time account tracking and AI decision insights",
    "url": "http://sg.losesky.shop:3100/",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "实时加密货币价格监控 / Real-time cryptocurrency price monitoring",
      "AI 交易决策跟踪 / AI trading decision tracking",
      "资产曲线可视化 / Equity curve visualization",
      "持仓管理 / Position management",
      "交易历史记录 / Trade history"
    ],
    "creator": {
      "@type": "Organization",
      "name": "ai-auto-trading",
      "url": "https://github.com/losesky/ai-auto-trading"
    },
    "inLanguage": ["zh-CN", "en-US"]
  }
  </script>
  
  <link rel="stylesheet" href="monitor-styles.css">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="nav-bar">
      <div class="logo">AI-Auto-Trading</div>
      <nav class="nav-menu">
        <a href="https://github.com/losesky/ai-auto-trading" class="nav-link github-link" target="_blank" rel="noopener noreferrer">
          <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 5px;">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
          </svg>
          <span class="github-stars" id="github-stars">
            <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-left: 8px; margin-right: 3px;">
              <path d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"/>
            </svg>
            <span id="stars-count">...</span>
          </span>
        </a>
        <div class="health-indicator" id="health-indicator" title="系统健康状态">
          <div class="health-light" id="health-light"></div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Crypto Price Ticker -->
  <div class="ticker-wrapper">
    <div class="ticker-content" id="ticker">
      <!-- 动态加载交易品种 -->
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Account Equity Curve Section -->
    <section class="chart-section">
      <div class="chart-header">
        <h3 class="chart-title">资产曲线</h3>
      </div>
      <div class="chart-container">
        <canvas id="equityChart"></canvas>
      </div>
    </section>

    <!-- Trading Statistics Section -->
    <section class="trading-stats-section">
      <div class="stats-header">
        <h3 class="chart-title">交易统计</h3>
      </div>
      <div class="stats-grid">
        <!-- Row 1 -->
        <div class="stat-card">
          <div class="stat-label">胜率</div>
          <div class="stat-value" id="stat-win-rate">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">夏普比率</div>
          <div class="stat-value" id="stat-sharpe">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">交易次数</div>
          <div class="stat-value" id="stat-total-trades">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">最大回撤</div>
          <div class="stat-value" id="stat-max-drawdown">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">单笔平均盈亏</div>
          <div class="stat-value" id="stat-avg-pnl">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">单笔最大亏损</div>
          <div class="stat-value" id="stat-max-loss">-</div>
        </div>

        <!-- Row 2 -->
        <div class="stat-card">
          <div class="stat-label">平均杠杆</div>
          <div class="stat-value" id="stat-avg-leverage">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">总手续费</div>
          <div class="stat-value" id="stat-total-fee">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">累计盈利</div>
          <div class="stat-value positive" id="stat-total-profit">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">累计亏损</div>
          <div class="stat-value negative" id="stat-total-loss">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">平均持仓时长</div>
          <div class="stat-value" id="stat-avg-duration">-</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">利润因子</div>
          <div class="stat-value" id="stat-profit-factor">-</div>
        </div>

        <!-- Row 3: Direction Distribution and Top Pairs -->
        <div class="stat-card stat-card-triple">
          <div class="stat-label">方向分布</div>
          <div class="stat-value stat-distribution" id="stat-direction-dist">
            <span class="dist-item">
              <span class="dist-dot long"></span>
              <span>做多 <span id="stat-long-percent">0.0%</span></span>
            </span>
            <span class="dist-item">
              <span class="dist-dot short"></span>
              <span>做空 <span id="stat-short-percent">0.0%</span></span>
            </span>
            <span class="dist-item">
              <span class="dist-dot neutral"></span>
              <span>空仓 <span id="stat-neutral-percent">0.0%</span></span>
            </span>
          </div>
        </div>
        <div class="stat-card stat-card-triple">
          <div class="stat-label">交易对偏好 (TOP 5) <span id="stat-hhi-label">· HHI 0.20 · 中等</span></div>
          <div class="stat-value stat-pairs" id="stat-top-pairs">-</div>
        </div>
      </div>
    </section>

    <!-- AI Decision Section -->
    <section class="chart-section">
      <div class="chart-header">
        <h3 class="decision-title">最新 AI 决策</h3>
        <div class="decision-nav">
          <button class="decision-nav-btn" id="prevDecisionBtn" title="上一条决策" disabled>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="decision-meta" id="decision-meta">
            <span class="decision-time">加载中...</span>
          </div>
          <button class="decision-nav-btn" id="nextDecisionBtn" title="下一条决策" disabled>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </div>
      <div class="decision-container">
        <div class="decision-content" id="decision-content">
          <p class="loading">加载 AI 决策中...</p>
        </div>
      </div>
    </section>

    <!-- Account Value Section -->
    <section class="account-section">
      <div class="account-header">
        <h3 class="chart-title">账户总览</h3>
      </div>
      
      <!-- 总资产 -->
      <div class="account-balance-card">
        <div class="balance-info">
          <div class="balance-amount">
            <span class="currency-label">$</span>
            <span class="value-amount" id="account-value">-</span>
          </div>
          <div class="balance-change">
            <span class="balance-pnl" id="balance-pnl">+0.00</span>
            <span class="balance-percent" id="balance-percent">(+0.00%)</span>
          </div>
        </div>
      </div>

      <!-- 风险指标 -->
      <div class="risk-metrics">
        <div class="risk-metrics-header">
          <span class="metrics-icon">📊</span>
          <span class="metrics-title">风险指标</span>
        </div>
        
        <div class="metrics-list">
          <div class="metric-item">
            <span class="metric-label">保证金比率</span>
            <span class="metric-value" id="margin-ratio">-</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">可用余额</span>
            <span class="metric-value" id="available-balance">-</span>
          </div>
          <div class="metric-item">
            <span class="metric-label">未实现盈亏</span>
            <span class="metric-value" id="unrealised-pnl">-</span>
          </div>
        </div>
      </div>

      <!-- 风险状态 -->
      <div class="risk-status safe">
        <div class="status-icon">✓</div>
        <div class="status-info">
          <div class="status-label">风险状态：安全</div>
          <div class="status-desc" id="risk-status-desc">保证金比率低于50%为安全，超过80%需警惕</div>
        </div>
      </div>

      <!-- Current Positions Cards (Removed) -->
      <!-- 移除了旧的持仓卡片显示 -->
    </section>

        <!-- Positions Section with Tabs -->
        <section class="positions-section">
            <!-- Tab Navigation as Header -->
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="positions">当前持仓</button>
                <button class="tab-button" data-tab="price-orders">止盈止损</button>
            </div>

            <!-- Tab Content: Current Positions -->
            <div class="tab-content active" id="tab-positions">
                <div class="positions-container">
                    <table class="positions-table">
                        <thead>
                            <tr>
                                <th>币种</th>
                                <th>方向</th>
                                <th>开仓倍数</th>
                                <th>开仓价格</th>
                                <th>开仓价值</th>
                                <th>当前价格</th>
                                <th>未实现盈亏</th>
                                <th>收益率</th>
                            </tr>
                        </thead>
                        <tbody id="positions-body">
                            <tr>
                                <td colspan="8" class="loading">加载中...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tab Content: Price Orders (Stop Loss / Take Profit) -->
            <div class="tab-content" id="tab-price-orders">
                <div class="positions-container">
                    <table class="positions-table">
                        <thead>
                            <tr>
                                <th>币种</th>
                                <th>方向</th>
                                <th>止损价格</th>
                                <th>当前价格</th>
                                <th>止盈价格</th>
                                <th>数量</th>
                                <th>状态</th>
                                <th>创建时间</th>
                            </tr>
                        </thead>
                        <tbody id="price-orders-body">
                            <tr>
                                <td colspan="8" class="loading">加载中...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Trades Section -->
        <section class="trades-section">
            <h2 class="section-header">交易历史 <span id="tradesCount"></span></h2>
            <div class="trades-container">
                <table class="trades-table">
                    <thead>
                        <tr>
                            <th>平仓时间</th>
                            <th>币种</th>
                            <th>方向</th>
                            <th>杠杆</th>
                            <th>开仓价格</th>
                            <th>平仓价格</th>
                            <th>数量</th>
                            <th>持仓时间</th>
                            <th>手续费</th>
                            <th>净盈亏</th>
                        </tr>
                    </thead>
                    <tbody id="trades-body">
                        <tr>
                            <td colspan="10" class="loading">加载中...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
  <script src="price-formatter.js"></script>
  <script src="monitor-script.js"></script>
</body>

</html>